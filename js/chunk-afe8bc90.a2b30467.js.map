{"version":3,"sources":["webpack:///./src/views/AddProducts.vue?0b31","webpack:///./src/views/AddProducts.vue","webpack:///./src/views/AddProducts.vue?8a2b"],"names":["class","active","isLoading","type","newProducts","title","required","ref","percent","placeholder","addtempProducts","showTempProducts","length","item","index","key","dataUp","dataDown","openProductModal","openDelProductModal","addProductsToList","products","tempProduct","updateProducts","delProduct","data","pagination","is_enabled","due_date","code","id","isNew","newData","newData2","tempAddProducts","JSON","parse","localStorage","getItem","components","productsModal","delModal","methods","this","alert","timestamp","Date","getTime","unshift","$refs","productName","focus","console","log","getTogether","concat","tempProductString","stringify","setItem","productComponent","showModal","tempProducts","forEach","i","hideModal","delComponent","delIndex","findIndex","splice","tempData","mounted","__exports__","render"],"mappings":"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","file":"js/chunk-afe8bc90.a2b30467.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AddProducts.vue?vue&type=style&index=0&id=9772b1f0&lang=scss\"","<template>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <h3>新增產品頁面</h3>\r\n    <form class=\"addproducts\">\r\n        <label class=\"mb-2 mt-2 dish-input\"><span>名稱</span><input class=\"ms-3\" type=\"text\" v-model=\"newProducts.title\" required ref=\"productName\"></label>\r\n        <label class=\"mb-2 mt-2 dish-input\"><span>價格</span><input class=\"ms-3\" type=\"number\" required v-model=\"newProducts.percent\" placeholder=\"只需填寫金額\"></label>\r\n        <label class=\"mb-2 mt-2\"><span>菜單料理</span><button class=\"ms-3 btn btn-primary btn-sm\" type=\"submit\" @click.prevent=\"addtempProducts\">新增</button></label>\r\n    </form>\r\n    <div class=\"noInfo\" v-if=\"showTempProducts.length === 0\">\r\n        <p>目前還沒新增資料唷！</p>\r\n    </div>\r\n    <table class=\"table border rounded-3 table-hover\">\r\n        <tbody >\r\n            <tr v-for=\"(item,index) in showTempProducts\" :key=\"item.title\">\r\n            <td>{{item.title}}</td>\r\n            <td>\r\n                <button type=\"text\" @click.prevent=\"dataUp(item,index)\">↑</button>\r\n                <button type=\"text\" @click.prevent=\"dataDown(item,index)\">↓</button>\r\n            </td>\r\n            <td>\r\n                <div class=\"btn-group\">\r\n                <button class=\"btn btn-outline-primary btn-sm\" @click.prevent=\"openProductModal(false, item)\">編輯</button>\r\n                <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"openDelProductModal(item)\">刪除</button>\r\n                </div>\r\n            </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <button class=\"btn btn-sm btn-outline-primary btn-block\" type=\"submit\" @click.prevent=\"addProductsToList\"> 送出 </button>\r\n    <productsModal ref=\"productsModal\" :products=\"tempProduct\" @update-products=\"updateProducts\"></productsModal>\r\n    <delModal ref=\"delModal\" :item=\"tempProduct\" @del-item=\"delProduct\"></delModal>\r\n\r\n</template>\r\n\r\n<style lang=\"scss\">\r\ntable{\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n    td{\r\n        vertical-align: middle;\r\n    }\r\n    td:nth-child(2){\r\n        text-align: right;\r\n    }\r\n}\r\n.noInfo{\r\n    color: #AAA;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n    width: 100%;\r\n    padding: 5px 25px;\r\n    border: 1px solid;\r\n    p {\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n    }\r\n}\r\n.addproducts{\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.dish-input{\r\n    width: 350px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    input{\r\n        width: 250px;\r\n    }\r\n}\r\n\r\n</style>\r\n\r\n<script>\r\nimport productsModal from '@/components/ProductsModal.vue'\r\nimport delModal from '@/components/DelModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      pagination: {},\r\n      newProducts: {\r\n        title: '',\r\n        is_enabled: 1,\r\n        percent: 0,\r\n        due_date: 1555459200,\r\n        code: 'testCode',\r\n        id: ''\r\n      },\r\n      isLoading: false,\r\n      isNew: false,\r\n      tempProduct: {},\r\n      newData: {},\r\n      newData2: {},\r\n      showTempProducts: [{\r\n        title: '預設資料',\r\n        is_enabled: 1,\r\n        percent: 100,\r\n        due_date: 1555459200,\r\n        code: 'testCode',\r\n        id: 'june0601'\r\n      }],\r\n      tempAddProducts: JSON.parse(localStorage.getItem('tempProducts')) || []\r\n    }\r\n  },\r\n  components: {\r\n    productsModal,\r\n    delModal\r\n  },\r\n  methods: {\r\n    addtempProducts () {\r\n      if (this.newProducts.title === '' || this.newProducts.percent <= 0) {\r\n        alert('請正確輸入商品資訊')\r\n        this.isLoading = false\r\n      } else {\r\n        const timestamp = new Date().getTime()\r\n        this.newProducts.id = timestamp\r\n        this.isLoading = false\r\n        this.showTempProducts.unshift({ ...this.newProducts })\r\n        this.newProducts.title = ''\r\n        this.newProducts.percent = ''\r\n        alert('已完成新增')\r\n        this.$refs.productName.focus()\r\n      }\r\n    },\r\n    addProductsToList () {\r\n      console.log(\r\n        '舊的清單',\r\n        this.tempAddProducts,\r\n        '新的清單',\r\n        this.showTempProducts\r\n      )\r\n      const getTogether = this.showTempProducts.concat(this.tempAddProducts)\r\n\r\n      console.log(getTogether)\r\n      const tempProductString = JSON.stringify(getTogether)\r\n      localStorage.setItem('tempProducts', tempProductString)\r\n      alert('已送出所有菜單囉!')\r\n      this.showTempProducts = []\r\n      this.tempAddProducts = getTogether\r\n    },\r\n    openProductModal (isNew, item) {\r\n      console.log('我打開了~')\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productsModal\r\n      productComponent.showModal()\r\n    },\r\n    updateProducts (item) {\r\n      this.tempProducts = item\r\n      console.log('修改後的item', item, item.id)\r\n      this.showTempProducts.forEach(function (i) {\r\n        if (item.id === i.id) {\r\n          i.title = item.title\r\n          i.percent = item.percent\r\n        }\r\n      })\r\n      const productComponent = this.$refs.productsModal\r\n      productComponent.hideModal()\r\n    },\r\n    // 開啟刪除的Modal\r\n    openDelProductModal (item) {\r\n      this.tempProduct = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n    delProduct () {\r\n      const delComponent = this.$refs.delModal\r\n      console.log('刪除商品', this.tempProduct.id)\r\n      const delProduct = this.tempProduct.id\r\n      const delIndex = this.showTempProducts.findIndex(function (item) {\r\n        return delProduct === item.id\r\n      })\r\n      console.log(delIndex)\r\n      this.showTempProducts.splice(delIndex, 1)\r\n      delComponent.hideModal()\r\n    },\r\n    // 調整順序(往上){\r\n    dataUp (item, index) {\r\n      console.log('往上')\r\n      this.tempData = item\r\n      if (index === 0) {\r\n        alert('已經是最上筆資料囉')\r\n        return\r\n      }\r\n      this.newData = this.showTempProducts.splice(index, 1)\r\n      this.newData2 = this.showTempProducts.splice([index - 1], 0, item)\r\n    },\r\n    // 調整順序(往下){\r\n    dataDown (item, index) {\r\n      console.log('往上')\r\n      this.tempData = item\r\n      if (index === this.showTempProducts.length - 1) {\r\n        alert('已經是最末筆資料囉')\r\n        return\r\n      }\r\n      this.newData = this.showTempProducts.splice(index, 1)\r\n      this.newData2 = this.showTempProducts.splice([index + 1], 0, item)\r\n    }\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./AddProducts.vue?vue&type=template&id=9772b1f0\"\nimport script from \"./AddProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AddProducts.vue?vue&type=script&lang=js\"\n\nimport \"./AddProducts.vue?vue&type=style&index=0&id=9772b1f0&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\yyfish\\\\Desktop\\\\104到職前準備\\\\104-pratice\\\\practice-demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}