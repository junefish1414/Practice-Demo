(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afe8bc90"],{"562e":function(t,e,o){"use strict";o("5a69")},"5a69":function(t,e,o){},"5adb":function(t,e,o){"use strict";o.r(e);var c=o("7a23"),n=Object(c["h"])("h3",null,"新增產品頁面",-1),s={class:"addproducts"},d={class:"mb-2 mt-2 dish-input"},r=Object(c["h"])("span",null,"名稱",-1),u={class:"mb-2 mt-2 dish-input"},i=Object(c["h"])("span",null,"價格",-1),l={class:"mb-2 mt-2"},a=Object(c["h"])("span",null,"菜單料理",-1),p={key:0,class:"noInfo"},b=Object(c["h"])("p",null,"目前還沒新增資料唷！",-1),h=[b],m={class:"table border rounded-3 table-hover"},P=["onClick"],O=["onClick"],j={class:"btn-group"},f=["onClick"],w=["onClick"];function g(t,e,o,b,g,v){var M=Object(c["C"])("Loading"),k=Object(c["C"])("productsModal"),T=Object(c["C"])("delModal");return Object(c["v"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(M,{active:g.isLoading},null,8,["active"]),n,Object(c["h"])("form",s,[Object(c["h"])("label",d,[r,Object(c["L"])(Object(c["h"])("input",{class:"ms-3",type:"text","onUpdate:modelValue":e[0]||(e[0]=function(t){return g.newProducts.title=t}),required:"",ref:"productName"},null,512),[[c["H"],g.newProducts.title]])]),Object(c["h"])("label",u,[i,Object(c["L"])(Object(c["h"])("input",{class:"ms-3",type:"number",required:"","onUpdate:modelValue":e[1]||(e[1]=function(t){return g.newProducts.percent=t}),placeholder:"只需填寫金額"},null,512),[[c["H"],g.newProducts.percent]])]),Object(c["h"])("label",l,[a,Object(c["h"])("button",{class:"ms-3 btn btn-primary btn-sm",type:"submit",onClick:e[2]||(e[2]=Object(c["M"])((function(){return v.addtempProducts&&v.addtempProducts.apply(v,arguments)}),["prevent"]))},"新增")])]),0===g.showTempProducts.length?(Object(c["v"])(),Object(c["g"])("div",p,h)):Object(c["f"])("",!0),Object(c["h"])("table",m,[Object(c["h"])("tbody",null,[(Object(c["v"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(g.showTempProducts,(function(t,e){return Object(c["v"])(),Object(c["g"])("tr",{key:t.title},[Object(c["h"])("td",null,Object(c["F"])(t.title),1),Object(c["h"])("td",null,[Object(c["h"])("button",{type:"text",onClick:Object(c["M"])((function(o){return v.dataUp(t,e)}),["prevent"])},"↑",8,P),Object(c["h"])("button",{type:"text",onClick:Object(c["M"])((function(o){return v.dataDown(t,e)}),["prevent"])},"↓",8,O)]),Object(c["h"])("td",null,[Object(c["h"])("div",j,[Object(c["h"])("button",{class:"btn btn-outline-primary btn-sm",onClick:Object(c["M"])((function(e){return v.openProductModal(!1,t)}),["prevent"])},"編輯",8,f),Object(c["h"])("button",{class:"btn btn-outline-danger btn-sm",onClick:Object(c["M"])((function(e){return v.openDelProductModal(t)}),["prevent"])},"刪除",8,w)])])])})),128))])]),Object(c["h"])("button",{class:"btn btn-sm btn-outline-primary btn-block",type:"submit",onClick:e[3]||(e[3]=Object(c["M"])((function(){return v.addProductsToList&&v.addProductsToList.apply(v,arguments)}),["prevent"]))}," 送出 "),Object(c["k"])(k,{ref:"productsModal",products:g.tempProduct,onUpdateProducts:v.updateProducts},null,8,["products","onUpdateProducts"]),Object(c["k"])(T,{ref:"delModal",item:g.tempProduct,onDelItem:v.delProduct},null,8,["item","onDelItem"])],64)}var v=o("5530"),M=(o("99af"),o("e9c4"),o("d3b7"),o("159b"),o("c740"),o("a434"),o("0678")),k=o("6ff1"),T={data:function(){return{products:[],pagination:{},newProducts:{title:"",is_enabled:1,percent:0,due_date:1555459200,code:"testCode",id:""},isLoading:!1,isNew:!1,tempProduct:{},newData:{},newData2:{},showTempProducts:[{title:"預設資料",is_enabled:1,percent:100,due_date:1555459200,code:"testCode",id:"june0601"}],tempAddProducts:JSON.parse(localStorage.getItem("tempProducts"))||[]}},components:{productsModal:M["a"],delModal:k["a"]},methods:{addtempProducts:function(){if(""===this.newProducts.title||this.newProducts.percent<=0)alert("請正確輸入商品資訊"),this.isLoading=!1;else{var t=(new Date).getTime();this.newProducts.id=t,this.isLoading=!1,this.showTempProducts.unshift(Object(v["a"])({},this.newProducts)),this.newProducts.title="",this.newProducts.percent="",alert("已完成新增"),this.$refs.productName.focus()}},addProductsToList:function(){console.log("舊的清單",this.tempAddProducts,"新的清單",this.showTempProducts);var t=this.showTempProducts.concat(this.tempAddProducts);console.log(t);var e=JSON.stringify(t);localStorage.setItem("tempProducts",e),alert("已送出所有菜單囉!"),this.showTempProducts=[],this.tempAddProducts=t},openProductModal:function(t,e){console.log("我打開了~"),this.tempProduct=t?{}:Object(v["a"])({},e),this.isNew=t;var o=this.$refs.productsModal;o.showModal()},updateProducts:function(t){this.tempProducts=t,console.log("修改後的item",t,t.id),this.showTempProducts.forEach((function(e){t.id===e.id&&(e.title=t.title,e.percent=t.percent)}));var e=this.$refs.productsModal;e.hideModal()},openDelProductModal:function(t){this.tempProduct=Object(v["a"])({},t);var e=this.$refs.delModal;e.showModal()},delProduct:function(){var t=this.$refs.delModal;console.log("刪除商品",this.tempProduct.id);var e=this.tempProduct.id,o=this.showTempProducts.findIndex((function(t){return e===t.id}));console.log(o),this.showTempProducts.splice(o,1),t.hideModal()},dataUp:function(t,e){console.log("往上"),this.tempData=t,0!==e?(this.newData=this.showTempProducts.splice(e,1),this.newData2=this.showTempProducts.splice([e-1],0,t)):alert("已經是最上筆資料囉")},dataDown:function(t,e){console.log("往上"),this.tempData=t,e!==this.showTempProducts.length-1?(this.newData=this.showTempProducts.splice(e,1),this.newData2=this.showTempProducts.splice([e+1],0,t)):alert("已經是最末筆資料囉")}},mounted:function(){}},y=(o("562e"),o("6b0d")),C=o.n(y);const D=C()(T,[["render",g]]);e["default"]=D}}]);
//# sourceMappingURL=chunk-afe8bc90.a2b30467.js.map