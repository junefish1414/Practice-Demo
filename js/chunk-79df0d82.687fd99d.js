(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79df0d82"],{1799:function(t,e,c){"use strict";var n=c("7a23"),a={"aria-label":"Page navigation example"},o={class:"pagination justify-content-center"},i=Object(n["h"])("span",{"aria-hidden":"true"},"«",-1),s=[i],r=["onClick"],d=Object(n["h"])("span",{"aria-hidden":"true"},"»",-1),u=[d];function l(t,e,c,i,d,l){return Object(n["v"])(),Object(n["g"])("nav",a,[Object(n["h"])("ul",o,[Object(n["h"])("li",{class:Object(n["q"])(["page-item",{disabled:!1===c.pages.has_pre}])},[Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(n["M"])((function(e){return l.updatePage(t.item)}),["prevent"]))},s)],2),(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(c.pages.total_pages,(function(t){return Object(n["v"])(),Object(n["g"])("li",{key:t,class:Object(n["q"])(["page-item",{active:t===c.pages.current_page}])},[Object(n["h"])("a",{class:"page-link",href:"#",onClick:Object(n["M"])((function(e){return l.updatePage(t)}),["prevent"])},Object(n["F"])(t),9,r)],2)})),128)),Object(n["h"])("li",{class:Object(n["q"])(["page-item",{disabled:!1===c.pages.has_next}])},[Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(n["M"])((function(e){return l.updatePage(t.item)}),["prevent"]))},u)],2)])])}var p={props:{pages:{type:Object,default:function(){return{}}}},data:function(){return{temPages:{}}},watch:{pages:function(){this.temPages=this.pages}},methods:{updatePage:function(t){this.pages.current_page=t,this.$emit("emit-pages",t)}}},b=c("6b0d"),h=c.n(b);const g=h()(p,[["render",l]]);e["a"]=g},2028:function(t,e,c){"use strict";c("c97f")},c97f:function(t,e,c){},e6dc:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a={class:"table border rounded-3 table-hover"},o={class:"btn-group"},i=["onClick"],s=["onClick"];function r(t,e,c,r,d,u){var l=Object(n["C"])("Loading"),p=Object(n["C"])("productsModal"),b=Object(n["C"])("delModal"),h=Object(n["C"])("pagination");return Object(n["v"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(l,{active:d.isLoading},null,8,["active"]),Object(n["h"])("table",a,[Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(d.productsList,(function(t){return Object(n["v"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",null,Object(n["F"])(t.title),1),Object(n["h"])("td",null,[Object(n["h"])("div",o,[Object(n["h"])("button",{class:"btn btn-outline-primary btn-sm",onClick:Object(n["M"])((function(e){return u.openProductModal(!1,t)}),["prevent"])},"編輯",8,i),Object(n["h"])("button",{class:"btn btn-outline-danger btn-sm",onClick:Object(n["M"])((function(e){return u.openDelProductModal(t)}),["prevent"])},"刪除",8,s)])])])})),128))])]),Object(n["k"])(p,{ref:"productsModal",products:d.tempProduct,onUpdateProducts:u.updateProducts},null,8,["products","onUpdateProducts"]),Object(n["k"])(b,{ref:"delModal",item:d.tempProduct,onDelItem:u.delProduct},null,8,["item","onDelItem"]),Object(n["k"])(h,{pages:d.pagination,onEmitPages:u.getProducts},null,8,["pages","onEmitPages"])],64)}var d=c("5530"),u=(c("d3b7"),c("159b"),c("e9c4"),c("c740"),c("a434"),c("0678")),l=c("1799"),p=c("6ff1"),b={data:function(){return{products:[],productsList:[],pagination:{current_page:1,has_next:!1,has_pre:!1,total_pages:1},isLoading:!1,isNew:!1,tempProduct:{}}},components:{productsModal:u["a"],pagination:l["a"],delModal:p["a"]},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=localStorage.getItem("tempProducts");this.products=JSON.parse(c),this.current_page=e;var n=10,a=(e-1)*n,o=e*n-1;this.productsList=[],this.products.forEach((function(e,c){c>=a&&c<=o&&t.productsList.push(e)})),this.pagination.total_pages=Math.ceil(this.products.length/n)},openProductModal:function(t,e){this.tempProduct=t?{}:Object(d["a"])({},e),this.isNew=t;var c=this.$refs.productsModal;c.showModal()},updateProducts:function(t){this.tempProduct=t,console.log("修改後的item",t,t.id),this.products.forEach((function(e){t.id===e.id&&(e.title=t.title,e.percent=t.percent)}));var e=this.$refs.productsModal;e.hideModal();var c=JSON.stringify(this.products);localStorage.setItem("tempProducts",c)},openDelProductModal:function(t){this.tempProduct=Object(d["a"])({},t);var e=this.$refs.delModal;e.showModal()},delProduct:function(){var t=this.$refs.delModal,e=this.tempProduct.id,c=this.products.findIndex((function(t){return e===t.id}));console.log(c),this.products.splice(c,1);var n=JSON.stringify(this.products);localStorage.setItem("tempProducts",n),t.hideModal()}},mounted:function(){this.getProducts()}},h=(c("2028"),c("6b0d")),g=c.n(h);const O=g()(b,[["render",r]]);e["default"]=O}}]);
//# sourceMappingURL=chunk-79df0d82.687fd99d.js.map