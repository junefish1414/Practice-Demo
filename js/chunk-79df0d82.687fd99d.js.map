{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./src/views/Products.vue?df0f","webpack:///./src/views/Products.vue","webpack:///./src/views/Products.vue?b2a7"],"names":["aria-label","class","aria-hidden","pages","has_pre","href","updatePage","item","total_pages","key","current_page","has_next","props","type","Object","default","data","temPages","watch","this","methods","$emit","__exports__","render","active","isLoading","productsList","id","title","openProductModal","openDelProductModal","ref","products","tempProduct","updateProducts","delProduct","pagination","getProducts","isNew","components","productsModal","delModal","page","sendProducts","localStorage","getItem","JSON","parse","perpage","pageIndexStart","pageIndexEnd","forEach","index","push","Math","ceil","length","productComponent","$refs","showModal","console","log","i","percent","hideModal","modifiedProductString","stringify","setItem","delComponent","delIndex","findIndex","splice","mounted"],"mappings":"mIACOA,aAAW,2B,GACVC,MAAM,qC,EAWJ,eAAuC,QAAjCC,cAAY,QAAO,KAAO,G,GAAhC,G,gBAyBA,eAAuC,QAAjCA,cAAY,QAAO,KAAO,G,GAAhC,G,gDArCR,eAyCM,MAzCN,EAyCM,CAxCJ,eAuCK,KAvCL,EAuCK,CAtCH,eAYK,MAXHD,MAAK,gBAAC,YAAW,WACiB,IAAb,EAAAE,MAAMC,Y,CAE3B,eAOI,KANFH,MAAM,YACNI,KAAK,IACLL,aAAW,WACV,QAAK,+CAAU,EAAAM,WAAW,EAAAC,QAAI,e,2BAKnC,eAWK,2BAVY,EAAAJ,MAAMK,aAAW,SAAzBD,G,wBADT,eAWK,MATFE,IAAKF,EACNN,MAAK,gBAAC,YAAW,QACGM,IAAS,EAAAJ,MAAMO,iB,CAEnC,eAIe,KAHbT,MAAM,YACNI,KAAK,IACJ,QAAK,mCAAU,EAAAC,WAAWC,KAAI,c,eAC7BA,GAAI,M,YAEV,eAYK,MAXHN,MAAK,gBAAC,YAAW,WACkB,IAAd,EAAAE,MAAMQ,a,CAE3B,eAOI,KANFV,MAAM,YACNI,KAAK,IACLL,aAAW,OACV,QAAK,+CAAU,EAAAM,WAAW,EAAAC,QAAI,e,WAY1B,OAEbK,MAAO,CACLT,MAAO,CACLU,KAAMC,OACNC,QAFK,WAEQ,MAAO,MAGxBC,KARa,WASX,MAAO,CACLC,SAAU,KAGdC,MAAO,CACLf,MADK,WAEHgB,KAAKF,SAAWE,KAAKhB,QAGzBiB,QAAS,CACPd,WADO,SACKC,GAEVY,KAAKhB,MAAMO,aAAeH,EAC1BY,KAAKE,MAAM,aAAcd,M,qBCjE/B,MAAMe,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,U,kCCPf,W,mFCEWtB,MAAM,sC,GAKQA,MAAM,a,sOAN3B,eAAuC,GAA7BuB,OAAQ,EAAAC,WAAS,mBAC3B,eAYQ,QAZR,EAYQ,CAXJ,eAUQ,e,mBATJ,eAQK,2BARc,EAAAC,cAAY,SAApBnB,G,wBAAX,eAQK,MAR6BE,IAAKF,EAAKoB,I,CACxC,eAAuB,yBAAjBpB,EAAKqB,OAAK,GAChB,eAKK,WAJD,eAGM,MAHN,EAGM,CAFN,eAAyG,UAAjG3B,MAAM,iCAAkC,QAAK,mCAAU,EAAA4B,kBAAgB,EAAQtB,KAAI,cAAG,KAAE,KACpG,eAAoG,UAA5FN,MAAM,gCAAiC,QAAK,mCAAU,EAAA6B,oBAAoBvB,KAAI,cAAG,KAAE,c,UAMvG,eAA6G,GAA9FwB,IAAI,gBAAiBC,SAAU,EAAAC,YAAc,iBAAiB,EAAAC,gB,wCAC7E,eAA+E,GAArEH,IAAI,WAAYxB,KAAM,EAAA0B,YAAc,UAAU,EAAAE,Y,6BACxD,eAAuE,GAA1DhC,MAAO,EAAAiC,WAAa,YAAY,EAAAC,a,6IAoBlC,GACbrB,KADa,WAEX,MAAO,CACLgB,SAAU,GACVN,aAAc,GACdU,WAAY,CACV1B,aAAc,EACdC,UAAU,EACVP,SAAS,EACTI,YAAa,GAEfiB,WAAW,EACXa,OAAO,EACPL,YAAa,KAGjBM,WAAY,CACVC,cAAA,OACAJ,WAAA,OACAK,SAAA,QAEFrB,QAAS,CACPiB,YADO,WACgB,WAAVK,EAAU,uDAAH,EACZC,EAAeC,aAAaC,QAAQ,gBAC1C1B,KAAKa,SAAWc,KAAKC,MAAMJ,GAC3BxB,KAAKT,aAAegC,EACpB,IAAMM,EAAU,GACVC,GAAkBP,EAAO,GAAKM,EAC9BE,EAAgBR,EAAOM,EAAW,EAExC7B,KAAKO,aAAe,GACpBP,KAAKa,SAASmB,SAAQ,SAAC5C,EAAM6C,GACvBA,GAASH,GAAkBG,GAASF,GACtC,EAAKxB,aAAa2B,KAAK9C,MAG3BY,KAAKiB,WAAW5B,YAAc8C,KAAKC,KAAKpC,KAAKa,SAASwB,OAASR,IAEjEnB,iBAjBO,SAiBWS,EAAO/B,GAErBY,KAAKc,YADHK,EACiB,GAEnB,kBAAwB/B,GAE1BY,KAAKmB,MAAQA,EACb,IAAMmB,EAAmBtC,KAAKuC,MAAMlB,cACpCiB,EAAiBE,aAEnBzB,eA3BO,SA2BS3B,GACdY,KAAKc,YAAc1B,EACnBqD,QAAQC,IAAI,WAAYtD,EAAMA,EAAKoB,IACnCR,KAAKa,SAASmB,SAAQ,SAAUW,GAC1BvD,EAAKoB,KAAOmC,EAAEnC,KAChBmC,EAAElC,MAAQrB,EAAKqB,MACfkC,EAAEC,QAAUxD,EAAKwD,YAGrB,IAAMN,EAAmBtC,KAAKuC,MAAMlB,cACpCiB,EAAiBO,YACjB,IAAMC,EAAwBnB,KAAKoB,UAAU/C,KAAKa,UAClDY,aAAauB,QAAQ,eAAgBF,IAGvCnC,oBA1CO,SA0CcvB,GACnBY,KAAKc,YAAL,kBAAwB1B,GACxB,IAAM6D,EAAejD,KAAKuC,MAAMjB,SAChC2B,EAAaT,aAEfxB,WA/CO,WAgDL,IAAMiC,EAAejD,KAAKuC,MAAMjB,SAC1BN,EAAahB,KAAKc,YAAYN,GAC9B0C,EAAWlD,KAAKa,SAASsC,WAAU,SAAU/D,GACjD,OAAO4B,IAAe5B,EAAKoB,MAE7BiC,QAAQC,IAAIQ,GACZlD,KAAKa,SAASuC,OAAOF,EAAU,GAC/B,IAAMJ,EAAwBnB,KAAKoB,UAAU/C,KAAKa,UAClDY,aAAauB,QAAQ,eAAgBF,GACrCG,EAAaJ,cAGjBQ,QAjFa,WAkFXrD,KAAKkB,gB,iCChHT,MAAMf,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-79df0d82.687fd99d.js","sourcesContent":["<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li\r\n        class=\"page-item\"\r\n        :class=\"{'disabled': pages.has_pre === false}\"\r\n      >\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(item)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        v-for=\"item in pages.total_pages\"\r\n        :key=\"item\"\r\n        class=\"page-item\"\r\n        :class=\"{ 'active': item === pages.current_page }\"\r\n      >\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          @click.prevent=\"updatePage(item)\"\r\n        >{{ item }}</a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        :class=\"{'disabled': pages.has_next === false}\"\r\n      >\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(item)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  // props: ['pages'],\r\n  props: {\r\n    pages: {\r\n      type: Object,\r\n      default () { return {} }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      temPages: {}\r\n    }\r\n  },\r\n  watch: {\r\n    pages () {\r\n      this.temPages = this.pages\r\n    }\r\n  },\r\n  methods: {\r\n    updatePage (item) {\r\n      /* eslint-disable */\r\n      this.pages.current_page = item\r\n      this.$emit('emit-pages', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=79266555\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\yyfish\\\\Desktop\\\\104到職前準備\\\\104-pratice\\\\practice-demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Products.vue?vue&type=style&index=0&id=5555d3b1&lang=scss\"","<template>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <table class=\"table border rounded-3 table-hover\">\r\n        <tbody>\r\n            <tr v-for=\"item in productsList\" :key=\"item.id\">\r\n                <td>{{item.title}}</td>\r\n                <td>\r\n                    <div class=\"btn-group\">\r\n                    <button class=\"btn btn-outline-primary btn-sm\" @click.prevent=\"openProductModal(false, item)\">編輯</button>\r\n                <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"openDelProductModal(item)\">刪除</button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <productsModal ref=\"productsModal\" :products=\"tempProduct\" @update-products=\"updateProducts\"></productsModal>\r\n    <delModal ref=\"delModal\" :item=\"tempProduct\" @del-item=\"delProduct\"></delModal>\r\n    <pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></pagination>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n    table{\r\n    border-collapse: separate;\r\n    border-spacing: 0;\r\n    td{\r\n        vertical-align: middle;\r\n    }\r\n    td:nth-child(2){\r\n        text-align: right;\r\n    }\r\n}\r\n</style>\r\n\r\n<script>\r\nimport productsModal from '@/components/ProductsModal.vue'\r\nimport pagination from '../components/Pagination.vue'\r\nimport delModal from '@/components/DelModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      productsList: [],\r\n      pagination: {\r\n        current_page: 1,\r\n        has_next: false,\r\n        has_pre: false,\r\n        total_pages: 1\r\n      },\r\n      isLoading: false,\r\n      isNew: false,\r\n      tempProduct: {}\r\n    }\r\n  },\r\n  components: {\r\n    productsModal,\r\n    pagination,\r\n    delModal\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      const sendProducts = localStorage.getItem('tempProducts')\r\n      this.products = JSON.parse(sendProducts)\r\n      this.current_page = page\r\n      const perpage = 10\r\n      const pageIndexStart = (page - 1) * perpage\r\n      const pageIndexEnd = (page * perpage) - 1\r\n      // console.log(this.products[pageIndexStart], this.products[pageIndexEnd])\r\n      this.productsList = []\r\n      this.products.forEach((item, index) => {\r\n        if (index >= pageIndexStart && index <= pageIndexEnd) {\r\n          this.productsList.push(item)\r\n        }\r\n      })\r\n      this.pagination.total_pages = Math.ceil(this.products.length / perpage)\r\n    },\r\n    openProductModal (isNew, item) {\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productsModal\r\n      productComponent.showModal()\r\n    },\r\n    updateProducts (item) {\r\n      this.tempProduct = item\r\n      console.log('修改後的item', item, item.id)\r\n      this.products.forEach(function (i) {\r\n        if (item.id === i.id) {\r\n          i.title = item.title\r\n          i.percent = item.percent\r\n        }\r\n      })\r\n      const productComponent = this.$refs.productsModal\r\n      productComponent.hideModal()\r\n      const modifiedProductString = JSON.stringify(this.products)\r\n      localStorage.setItem('tempProducts', modifiedProductString)\r\n    },\r\n    // 開啟刪除的Modal\r\n    openDelProductModal (item) {\r\n      this.tempProduct = { ...item }\r\n      const delComponent = this.$refs.delModal\r\n      delComponent.showModal()\r\n    },\r\n    delProduct () {\r\n      const delComponent = this.$refs.delModal\r\n      const delProduct = this.tempProduct.id\r\n      const delIndex = this.products.findIndex(function (item) {\r\n        return delProduct === item.id\r\n      })\r\n      console.log(delIndex)\r\n      this.products.splice(delIndex, 1)\r\n      const modifiedProductString = JSON.stringify(this.products)\r\n      localStorage.setItem('tempProducts', modifiedProductString)\r\n      delComponent.hideModal()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Products.vue?vue&type=template&id=5555d3b1\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=5555d3b1&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\yyfish\\\\Desktop\\\\104到職前準備\\\\104-pratice\\\\practice-demo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}